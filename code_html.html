<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>StudyBuddy+ ‚Äî Frontend</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <script defer src="app.js"></script>
</head>
<body>
  <header id="mainHeader" class="header">
    <div class="header-left">
      <div class="logo">StudyBuddy+</div>
    </div>
    <nav class="header-right">
      <button id="navToggle" class="icon-btn" aria-label="Ouvrir le menu">‚ò∞</button>
      <div id="userPreview" class="user-preview hidden" aria-hidden="true">
        <div class="user-initials" id="userInitials">SB</div>
      </div>
    </nav>
  </header>

  <main id="app">
    <!-- Page de connexion -->
    <section id="loginSection" class="centered card">
      <h1>Se connecter</h1>
      <form id="loginForm" class="form" novalidate>
        <label for="email">Email</label>
        <input id="email" name="email" type="email" required autocomplete="username" placeholder="ex: etudiant@exemple.com">
        <label for="password">Mot de passe</label>
        <div class="password-row">
          <input id="password" name="password" type="password" required autocomplete="current-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
          <button id="togglePwd" type="button" class="icon-btn" aria-label="Afficher le mot de passe">üëÅÔ∏è</button>
        </div>
        <div class="actions">
          <button type="submit" class="primary">Connexion</button>
          <button type="button" id="createAccount" class="secondary">Cr√©er un compte</button>
        </div>
        <p class="muted">D√©mo : l'authentification est simul√©e localement (aucun serveur requis).</p>
      </form>
    </section>

    <!-- Dashboard (cach√© tant que non connect√©) -->
    <section id="dashboard" class="hidden container">
      <div class="banner">
        <h2 id="welcome">Bienvenue</h2>
      </div>

      <div class="s√©parationBannerBody"></div>

      <section class="dashboard-section">
        <h2><i><span class="tableau">Tableau</span> <span class="de-bord">de bord</span></i></h2>
        <div class="dashboard-grid">
          <div class="dashboard-left">
            <div class="rectangle-beige-large card" id="sessionCard">
              <div class="session-content">
                <div class="session-status" id="sessionStatus">En attente</div>
                <div class="session-timer" id="sessionTimer">00:00:00</div>
                <div class="session-controls">
                  <button id="startBtn" class="primary">D√©marrer</button>
                  <button id="pauseBtn" class="secondary">Pause</button>
                  <button id="stopBtn" class="danger">Arr√™ter</button>
                </div>
                <p class="muted" style="margin-top:12px;">Les capteurs (simul√©s) enregistrent luminosit√©, qualit√© d'air et bruit.</p>
              </div>
            </div>
          </div>

          <div class="dashboard-right">
            <div class="rectangle-rouge card" id="lofiCard">
              <h3>Musique LOFI</h3>
              <div class="lofi-controls">
                <button id="playLofi" class="primary">Play</button>
                <button id="stopLofi" class="secondary">Stop</button>
              </div>
            </div>

            <div class="rectangle-beige card" id="envCard">
              <h3>Environnement</h3>
              <ul class="env-list" id="envList">
                <li>Luminosit√© : <strong id="lux">--</strong></li>
                <li>Qualit√© de l'air : <strong id="air">--</strong></li>
                <li>Bruit : <strong id="noise">--</strong></li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <section class="Statistics-section">
        <h2><i><span class="Stats">Statistiques</span> <span class="Gen">G√©n√©rales</span></i></h2>
        <div class="statistics-grid">
          <div class="rectangle-beige-large card" id="graphCard">
            <h3>Historique</h3>
            <canvas id="historyChart" width="600" height="300" aria-label="Graphique d'activit√©"></canvas>
          </div>
          <div class="statistics-right">
            <div class="rectangle-rouge card stat">Sessions aujourd'hui<br><strong id="stat1">0</strong></div>
            <div class="rectangle-rouge card stat">Temps d'√©tude<br><strong id="stat2">0 min</strong></div>
            <div class="rectangle-rouge card stat">Jours cons√©cutifs<br><strong id="stat3">0</strong></div>
            <div class="rectangle-rouge card stat">Focus moyen<br><strong id="stat4">0%</strong></div>
          </div>
        </div>
      </section>

      <section class="Agenda-section">
        <h2><i><span class="Stats">Agenda &</span> <span class="Gen">Calendrier</span></i></h2>
        <div class="agenda-grid">
          <div class="agenda-right">
            <div class="rectangle-beige-large card">
              <h3>Calendrier</h3>
              <p>Int√©gration future : √©v√©nements, √©ch√©ances et notifications.</p>
            </div>
          </div>
          <div class="agenda-left">
            <div class="rectangle-rouge-small card">
              <button id="addHomework" class="primary full">Ajouter un devoir</button>
            </div>
            <div class="rectangle-rouge-small card">
              <button id="addExam" class="primary full">Ajouter une date d'examen</button>
            </div>
            <div class="rectangle-rouge-small card">
              <div id="upcomingTasks">T√¢ches √† venir<br><small id="taskList">Aucune</small></div>
            </div>
          </div>
        </div>
      </section>

      <footer class="page-footer">
        <div class="footer-card card">
          <div class="footer-simple">
            <div class="footer-logo">StudyBuddy+</div>
            <p class="footer-tagline">Votre compagnon d'√©tude intelligent</p>
            <p class="footer-copyright">¬© 2025 StudyBuddy+</p>
          </div>
        </div>
      </footer>
    </section>
  </main>

  <template id="toastTpl">
    <div class="toast" role="status"></div>
  </template>
</body>
</html>
